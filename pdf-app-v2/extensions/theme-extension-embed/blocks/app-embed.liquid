<button id="download-pdf-button" class="download-pdf-button">
  Download PDF
</button>

<style>
  .download-pdf-button {
    background-color: #0066cc;
    color: white;
    font-weight: 500;
    padding: 10px 18px;
    border: none;
    border-radius: 4px;
    font-size: 16px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    display: block;
    margin: 15px 0;
  }

  .download-pdf-button:hover {
    background-color: #0052a3;
  }

  .download-pdf-button:active {
    transform: translateY(1px);
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Find the order details table
    const orderDetailsTable = document.querySelector('.order-details');
    
    // If we're on an order page with this table
    if (orderDetailsTable) {
      // Get the party button
      const partyButton = document.querySelector('button[is="party-button"]');
      
      // Move button after the table
      if (partyButton) {
        orderDetailsTable.after(partyButton);
      }

      // Get the download button
      const downloadButton = document.getElementById('download-pdf-button');
      
      // Move button after the table
      if (downloadButton) {
        orderDetailsTable.after(downloadButton);
        
        // Add click event listener to log order ID and customer ID
        downloadButton.addEventListener('click', function() {
          // In Shopify order pages, order and customer data is available through Liquid
          {% if order %}
            console.log('Order ID:', {{ order.id | json }});
            console.log('Payment Status:', {{ order.financial_status | json }});
            console.log('Order Status:', {{ order.status | json }});
            {% if order.customer %}
              console.log('Customer ID:', {{ order.customer.id | json }});
              console.log('Customer Email:', {{ order.customer.email | json }});
              console.log('Customer Name:', {{ order.customer.name | json }});
            {% else %}
              console.log('No customer associated with this order (guest checkout)');
            {% endif %}
          {% else %}
            console.log('Order data not available');
          {% endif %}
        });
      }
    } else {
      // Hide button if not on order page
      const partyButton = document.querySelector('button[is="party-button"]');
      if (partyButton) {

        partyButton.style.display = 'none';
      }

      const downloadButton = document.getElementById('download-pdf-button');
      if (downloadButton) {
        downloadButton.style.display = 'none';
      }
    }
  });
</script>


{% schema %}
{
  "name": "Download PDF",
  "target": "body",
  "settings": []
}
{% endschema %}